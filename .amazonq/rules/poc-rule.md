# コード品質検証ルール

## 必須検証ステップ

コード修正が発生した場合、**修正したファイルに対して**以下のコマンドがすべて正常に実行されることを必ず確認してください：

1. **フォーマットチェック**: `npm run format` (修正したファイルのみ)
2. **リントチェック**: `npm run lint` (修正したファイルのみ)
3. **テスト実行**: `npm run test` (関連するテストのみ、またはプロジェクト全体)

**デフォルト動作**: 修正したファイルのみを対象とする  
**例外**: ユーザーが明示的にプロジェクト全体の検証を要求した場合のみ全体を対象とする

## 実行順序

以下の順序で実行してください：

1. まず `npm run format` を実行してフォーマットの問題を修正
2. 次に `npm run lint` を実行してコード品質をチェック
3. 最後に `npm run test` を実行して機能を確認

## 失敗時の対応

- いずれかのステップが失敗した場合、問題を修正してから次に進む
- 3つのステップすべてが成功するまでタスクを完了とみなさない
- 各ステップの状況をユーザーに明確に報告する

## 適用範囲

このルールは以下に適用されます：

- すべてのJavaScript/TypeScriptファイル
- これらのスクリプトを含むpackage.jsonを持つすべてのプロジェクト
- あらゆるコードの修正、追加、削除